<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>每周分享·第4期 - TechWeekly - 一个共享知识的地方</title><meta name=renderer content=webkit><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content=no-transform><meta http-equiv=cache-control content=no-siteapp><meta name=theme-color content=#f8f5ec><meta name=msapplication-navbutton-color content=#f8f5ec><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=#f8f5ec><meta name=author content=Walker><meta name=description content="感谢阅读 每周分享 ，我会把每周看过值得分享的内容记录在这里。"><meta name=keywords content=每周,技术,分享,移动开发,前端,后端,硬件,小工具,java,go,rust,javascript><meta name=generator content="Hugo 0.54.0 with even 4.0.0"><link rel=canonical href=http://localhost:1313/post/issue-004/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/dist/even.c2a46f00.min.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property=og:title content=每周分享·第4期><meta property=og:description content="感谢阅读 每周分享 ，我会把每周看过值得分享的内容记录在这里。"><meta property=og:type content=article><meta property=og:url content=http://localhost:1313/post/issue-004/><meta property=article:published_time content=2019-03-10T00:00:00&#43;08:00><meta property=article:modified_time content=2019-03-10T23:59:59&#43;08:00><meta itemprop=name content=每周分享·第4期><meta itemprop=description content="感谢阅读 每周分享 ，我会把每周看过值得分享的内容记录在这里。"><meta itemprop=datePublished content=2019-03-10T00:00:00&#43;08:00><meta itemprop=dateModified content=2019-03-10T23:59:59&#43;08:00><meta itemprop=wordCount content=1669><meta itemprop=keywords content=Rust,Go,内存分配,编译器,Flutter,MySQL,><meta name=twitter:card content=summary><meta name=twitter:title content=每周分享·第4期><meta name=twitter:description content="感谢阅读 每周分享 ，我会把每周看过值得分享的内容记录在这里。"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>TechWeekly</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>TechWeekly</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>每周分享·第4期</h1><div class=post-meta><span class=post-time>2019-03-10</span><div class=post-category><a href=/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/>技术分享</a></div></div></header><div class=post-content><p>感谢阅读 <code>每周分享</code> ，我会把每周看过值得分享的内容记录在这里。</p><h1 id=文章>文章</h1><h4 id=图解-go-内存分配器-https-media-weibo-cn-article-id-2309404347690665261491><a href="https://media.weibo.cn/article?id=2309404347690665261491">图解 Go 内存分配器</a></h4><p>这是之前推过的一篇文章的中译版。文将从内存的基本知识入手，到一般的内存分配器，进而延伸到 Go 内存分配器，对其进行全方位深层次的讲解。</p><h4 id=图解-tcmalloc-https-zhuanlan-zhihu-com-p-29216091><a href=https://zhuanlan.zhihu.com/p/29216091>图解 TCMalloc</a></h4><p>TCMalloc 是 Google 开发的内存分配器，在不少项目中都有使用，例如在 Golang 中就使用了类似的算法进行内存分配。它具有现代化内存分配器的基本特征：对抗内存碎片、在多核处理器能够 scale。</p><h4 id=英文-使用rust构建类似于wireshark过滤器那样的执行引擎-https-blog-cloudflare-com-building-fast-interpreters-in-rust><a href=https://blog.cloudflare.com/building-fast-interpreters-in-rust/>[英文]使用Rust构建类似于Wireshark过滤器那样的执行引擎</a></h4><p><img src=/img/parse.png alt=Lex></p><p>Cloudflare公司开源的用于解析Wireshark过滤器语法，并将它们编译器为可执行的IR。该库用于该公司提供的防火墙服务规则解析，所以使用Wireshark的过滤器语法作为DSL。</p><p>解析语法一般有三种方式：</p><ul><li>使用状态机、正则等按字符进行解析</li><li>使用解析器组合器，比如nom或combine这种工具</li><li>完全自动化的生成器，可以根据提供的语法自动生成一个解析器，比如pest</li></ul><p>但是该库并没有用nom或pest，而是选了第一种解析方式。并且在文章里给出了一些提升解析器性能的经验：</p><p>他们认为Rust标准库提供的字符串API完全够用。
使用IndexMap替换了HashMap来进一步提升了两倍性能。
使用trait对象动态分发和闭包来避免实现JIT而带来的一些问题。动态分发的执行效率出乎他们的意料。
选择使用Rust语言实现，对于支持WASM提供了巨大的方便。
该库已经用于Cloudflare公司的生产项目。</p><h4 id=mysql-大表优化方案-https-segmentfault-com-a-1190000006158186><a href=https://segmentfault.com/a/1190000006158186>MySQL 大表优化方案</a></h4><p>当MySQL单表记录数过大时，增删改查性能都会急剧下降，可以参考其中的步骤来优化</p><h4 id=leaf-美团分布式id生成服务开源-https-segmentfault-com-a-1190000018436227><a href=https://segmentfault.com/a/1190000018436227>Leaf：美团分布式ID生成服务开源</a></h4><p><img src=/img/leaf.png alt=Leaf：美团分布式ID生成服务开源></p><p>Leaf是美团基础研发平台推出的一个分布式ID生成服务，名字取自德国哲学家、数学家莱布尼茨的一句话：“There are no two identical leaves in the world.”Leaf具备高可靠、低延迟、全局唯一等特点。目前已经广泛应用于美团金融、美团外卖、美团酒旅等多个部门。</p><h4 id=百度的春晚战事-https-mp-weixin-qq-com-s-biz-mzu0ndewmtc1ma-mid-2247491861-idx-1-sn-5be51315f84079d798db03bf731ebd17><a href="https://mp.weixin.qq.com/s?__biz=MzU0NDEwMTc1MA==&amp;mid=2247491861&amp;idx=1&amp;sn=5be51315f84079d798db03bf731ebd17">百度的春晚战事</a></h4><p>无论悲喜，反正每个中国人都为春晚辟出了一块“专属记忆”。而从2015年开始，中国人的春晚记忆里被点上了一颗“红痣”。那就是——总有一家顶尖互联网公司面带羞赧地走上舞台，给十几亿人发红包。2019年，央视春晚红包招标时间很晚，距离除夕只有一个多月的时间。巨头们都觉得凶险异常，百度却高高举手：我来！我来！所有吃瓜群众都侧目，这种“情商低”的状态，还真是百度的风格。。。接下来中哥就告诉你，2019年2月4日除夕晚上，这片土地上究竟发生了什么。</p><h4 id=虽难-但产业互联网的量-远大于消费互联网-https-mp-weixin-qq-com-s-biz-mzixntaznzu0ng-mid-2654621349-idx-1-sn-d24401a9c3aa9f84eb08e74f1127b863><a href="https://mp.weixin.qq.com/s?__biz=MzIxNTAzNzU0Ng==&amp;mid=2654621349&amp;idx=1&amp;sn=d24401a9c3aa9f84eb08e74f1127b863">虽难，但产业互联网的量，远大于消费互联网</a></h4><p>过去几年，在互联网大军的强势竞争下，传统产业似乎遇到了很大的困境。然而，到了2018年，互联网人却纷纷曝出进军传统产业，一场由技术革新带来的变化可能正在颠覆你的认知。产业数字化栏目第一期《小镇：我们已经不一样了 》，我们一起走进小镇感受了那个越来越多企业同台竞逐的产业江湖。今天，我们继续探讨传统产业与互联网如何通过数字化实现平等对话、融合。</p><h4 id=2019年-全球十大突破性技术-https-mp-weixin-qq-com-s-biz-mzixntaznzu0ng-mid-2654621275-idx-2-sn-23e2e6440e07cb19293280826bda5533><a href="https://mp.weixin.qq.com/s?__biz=MzIxNTAzNzU0Ng==&amp;mid=2654621275&amp;idx=2&amp;sn=23e2e6440e07cb19293280826bda5533">2019年，全球十大突破性技术</a></h4><p>自 2001 年起，《麻省理工科技评论》每年都会评选出当年的“十大突破性技术”，这份在全球科技领域举足轻重的榜单曾精准预测了脑机接口、智能手表、癌症基因疗法、深度学习等诸多热门技术的崛起。</p><h1 id=资源>资源</h1><h4 id=awesome-compilers-https-github-com-aalhour-awesome-compilers><a href=https://github.com/aalhour/awesome-compilers>awesome-compilers</a></h4><p>编译器、解释器和运行时环境相关领域的学习资料、工具、框架、平台、技术和源代码项目资源大全新版。</p><h4 id=熟肉-flutter-快速入门-https-www-bilibili-com-video-av38696227><a href=https://www.bilibili.com/video/av38696227/>【熟肉】Flutter 快速入门</a></h4><p>Flutter 快速入门（从油管搬运到B站的），帮助开发者快速了解 Flutter，学起 Flutter 基本用法。
由于该教程发布时间较早，期间 Flutter 版本进行了多次更新迭代，所以在一些语法上会存在一些小区别，从个人的实践经验来看，区别并不大</p><h1 id=工具>工具</h1><h4 id=motirx-https-github-com-agalwood-motrix><a href=https://github.com/agalwood/Motrix>Motirx</a></h4><p><img src=/img/motirx.png alt=Motirx></p><p>Motirx 是一款全能的下载工具，支持下载 HTTP、FTP、BT、磁力链、百度网盘等资源。</p><h4 id=snapdrop-net-https-snapdrop-net><a href=https://snapdrop.net/>snapdrop.net</a></h4><p><img src=/img/snapdrop.net.png alt=snapdrop></p><p>通过浏览器分享本地文件——灵感来自于苹果的 Airdrop</p><h4 id=每日一图>每日一图</h4><p><img src=/img/20190310.jpeg alt></p><p>一名登山者在喜马拉雅山脉的18,000英尺高的地方收拾营地，背景中耸立的则是世界第八高的马纳斯鲁山。</p><blockquote><p>人是沟通的动物。他不仅依赖于食物，也同样依赖于新闻、信息和娱乐。</p></blockquote><p>本文会同步更新到公众号（程序员私塾）中，欢迎订阅。</p><p><img src=/img/WechatIMG147.jpeg alt></p></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>Walker</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2019-03-10</span></p><p class=copyright-item><span class=item-title>许可协议</span>
<span class=item-content><a rel=license href=https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh>自由转载-非商用-非衍生-保持署名</a></span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/rust/>Rust</a>
<a href=/tags/go/>Go</a>
<a href=/tags/%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/>内存分配</a>
<a href=/tags/%E7%BC%96%E8%AF%91%E5%99%A8/>编译器</a>
<a href=/tags/flutter/>Flutter</a>
<a href=/tags/mysql/>MySQL</a></div><nav class=post-nav><a class=next href=/post/issue-003/><span class="next-text nav-default">每周分享·第3期</span>
<span class="next-text nav-mobile">下一篇</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:anywalker@163.com class="iconfont icon-email" title=email></a><a href=https://github.com/greycode class="iconfont icon-github" title=github></a><a href=https://www.weibo.com/anycode class="iconfont icon-weibo" title=weibo></a><a href=http://localhost:1313/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>由 <a class=hexo-link href=https://gohugo.io>Hugo</a> 强力驱动</span>
<span class=division>|</span>
<span class=theme-info>主题 -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2019
<span class=heart><i class="iconfont icon-heart"></i></span><span class=author>Walker</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=/dist/even.26188efa.min.js></script></body></html>